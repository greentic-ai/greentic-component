---
id: PR-05
title: Docs + end-to-end examples + CI guardrails
date: 2026-02-05
repo: greentic-component + greentic-flow + greentic-types
track: docs-ci
depends_on: [PR-01, PR-02, PR-03, PR-04]
---

# PR-05: Docs + E2E examples + CI guardrails

## Goal
Make the new wizard workflow discoverable and keep it from drifting.

## Changes
1) Documentation
- Add `docs/component_wizard.md` explaining:
  - template generation
  - ABI versioning + wasm naming
  - QA modes default/setup/upgrade/remove
  - doctor validation
  - flow integration via greentic-flow + distribution client
- Add quickstart commands.

2) End-to-end example
- Provide a small example component template committed under `examples/` (or generated during tests) showing:
  - describe + qa-spec + apply-answers + run stubs
  - example answers and schema

Recommendation: commit a static example under `examples/` for human browsing, and still generate one in tests for determinism checks.

3) CI checks (lightweight)
- Validate that:
  - greentic-component wizard new runs in CI (smoke)
  - doctor passes on the generated template
  - greentic-flow add-step can run in a mocked mode (no network)
- Add a guardrail: deprecated WIT packages should not change without an explicit allowlist (if applicable).

Clarification: no existing mocked-mode flag is specified in PR docs. Implement a greentic-flow test harness that injects a mock resolver + mock component runner (trait-based), so CI can exercise add-step without network. A CLI flag is optional and can be defined in PR-04 if desired.

## Acceptance criteria
- New docs explain the workflow clearly.
- CI includes at least one smoke test that exercises wizard+doctor.
